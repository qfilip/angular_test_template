@let preview = $preview();
@let item = $item();

@if(preview && item) {
    <div class="actions">
        <span>{{ item.path | fsItemName }}</span>
        <span>
            <button class="orange">Rename</button>
            <button class="red">Delete</button>
        </span>
    </div>
    @if(preview.previewDoc) {
        <div>
            <textarea #docContent [value]="preview.content" (keypress)="onFileContentChange(docContent.value)"></textarea>
        </div>
    }
    @else {
        <ul>
            @for (item of preview.dirsAndDocs.dirs; track $index) {
                <li (click)="setSelected(item)">&#9654; {{ item.path | fsItemName }}</li>
            }
            @for (item of preview.dirsAndDocs.docs; track $index) {
                <li (click)="setSelected(item)">{{ item.path | fsItemName }}</li>
            }
        </ul>
    }

    @if($canEdit()) {
        <button (click)="saveChanges()" class="edit-btn">Save Changes</button>
    }
}