<app-branch-create-dialog #createDialog></app-branch-create-dialog>

@let branches = $branches();
@let selectedBranch = $selectedBranch();
@let uncommited = $uncommited();
<div>
    <section>
        <div>
            <label>
                <span>Branch:</span>
                <select>
                    @for(b of branches; track $index) {
                        <option [selected]="selectedBranch?.id === b.id" [value]="b">{{ b.name }}</option>
                    }    
                </select>
            </label>
        </div>

    </section>
    <section>
        <div>
            <h3>Actions</h3>
            <div class="actions-list">
            @if(uncommited) {
                <button (click)="createBranch(uncommited)" class="blue">Create branch</button>
                <button class="green">Clone branch</button>
                <button class="orange">Pull</button>
                <button (click)="commit(uncommited.length)" class="red">Commit</button>
            }
            </div>
        </div>
    </section>
    <section>
        <h3>Changes</h3>
        <details>
            <summary>Uncommited</summary>
            <ul class="change-list">
                @for (item of uncommited; track $index) {
                    <li>
                        <span>
                            {{ item | fsItemEvent }}
                        </span>
                        <button (click)="revertTo($index)">Revert</button>
                    </li>
                }
            </ul>
        </details>
    </section>

</div>